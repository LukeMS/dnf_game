

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dnf_game.util.ext.rect &mdash; Dungeons and Fiends  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../../search.html"/>
    <link rel="top" title="Dungeons and Fiends  documentation" href="../../../../index.html"/>
        <link rel="up" title="Module code" href="../../../index.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> Dungeons and Fiends
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../dnf_game.html">dnf_game package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">Dungeons and Fiends</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
      
    <li>dnf_game.util.ext.rect</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for dnf_game.util.ext.rect</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Pure Python implementation of Pygame/PyGameSDL2&#39;s rect.</span>

<span class="sd">Original available at:</span>
<span class="sd">    github.com/renpy/pygame_sdl2/blob/master/src/pygame_sdl2/rect.pyx</span>

<span class="sd">----------------------------------------------------------------------------</span>
<span class="sd">           _ _                    _                                _</span>
<span class="sd">     /\   | | |                  | |                              | |</span>
<span class="sd">    /  \  | | |_ ___ _ __ ___  __| |  ___  ___  _   _ _ __ ___ ___| |</span>
<span class="sd">   / /\ \ | | __/ _ \ &#39;__/ _ \/ _` | / __|/ _ \| | | | &#39;__/ __/ _ \ |</span>
<span class="sd">  / ____ \| | ||  __/ | |  __/ (_| | \__ \ (_) | |_| | | | (_|  __/_|</span>
<span class="sd"> /_/    \_\_|\__\___|_|  \___|\__,_| |___/\___/ \__,_|_|  \___\___(_)</span>

<span class="sd">----------------------------------------------------------------------------</span>

<span class="sd">PygameSDL2 Notice:</span>
<span class="sd">----------------------------------------------------------------------------</span>
<span class="sd"># Copyright 2014 Tom Rothamel &lt;tom@rothamel.us&gt;</span>
<span class="sd"># Copyright 2014 Patrick Dawson &lt;pat@dw.is&gt;</span>
<span class="sd">#</span>
<span class="sd"># This software is provided &#39;as-is&#39;, without any express or implied</span>
<span class="sd"># warranty.  In no event will the authors be held liable for any damages</span>
<span class="sd"># arising from the use of this software.</span>
<span class="sd">#</span>
<span class="sd"># Permission is granted to anyone to use this software for any purpose,</span>
<span class="sd"># including commercial applications, and to alter it and redistribute it</span>
<span class="sd"># freely, subject to the following restrictions:</span>
<span class="sd">#</span>
<span class="sd"># 1. The origin of this software must not be misrepresented; you must not</span>
<span class="sd">#    claim that you wrote the original software. If you use this software</span>
<span class="sd">#    in a product, an acknowledgment in the product documentation would be</span>
<span class="sd">#    appreciated but is not required.</span>
<span class="sd"># 2. Altered source versions must be plainly marked as such, and must not be</span>
<span class="sd">#    misrepresented as being the original software.</span>
<span class="sd"># 3. This notice may not be removed or altered from any source distribution.</span>
<span class="sd">----------------------------------------------------------------------------</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">from</span> <span class="nn">dnf_game.util</span> <span class="k">import</span> <span class="n">flatten</span>


<div class="viewcode-block" id="Rect"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect">[docs]</a><span class="k">class</span> <span class="nc">Rect</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Object for storing rectangular coordinates.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialization.</span>

<span class="sd">        Rect objects are used to store and manipulate rectangular areas. A</span>
<span class="sd">        Rect can be created from a combination of left, top, width, and</span>
<span class="sd">        height values. Rects can also be created from python objects that are</span>
<span class="sd">        already a Rect or have an attribute named “rect”.</span>

<span class="sd">        The Rect functions that change the position or size of a Rect return</span>
<span class="sd">        a new copy of the Rect with the affected changes. The original Rect</span>
<span class="sd">        is not modified. Some methods have an alternate “in-place” version</span>
<span class="sd">        that returns None but effects the original Rect. These “in-place”</span>
<span class="sd">        methods are denoted with the “ip” suffix.</span>

<span class="sd">        The Rect object has several virtual attributes which can be used to</span>
<span class="sd">        move and align the Rect:</span>
<span class="sd">        &gt;&gt;&gt; x,y</span>
<span class="sd">        &gt;&gt;&gt; top, left, bottom, right</span>
<span class="sd">        &gt;&gt;&gt; topleft, bottomleft, topright, bottomright</span>
<span class="sd">        &gt;&gt;&gt; midtop, midleft, midbottom, midright</span>
<span class="sd">        &gt;&gt;&gt; center, centerx, centery</span>
<span class="sd">        &gt;&gt;&gt; size, width, height</span>
<span class="sd">        &gt;&gt;&gt; w,h</span>

<span class="sd">        All of these attributes can be assigned to:</span>
<span class="sd">        &gt;&gt;&gt; rect1.right = 10</span>
<span class="sd">        &gt;&gt;&gt; rect2.center = (20,30)</span>

<span class="sd">        Assigning to size, width or height changes the dimensions of the</span>
<span class="sd">        rectangle; all other assignments move the rectangle without resizing</span>
<span class="sd">        it. Notice that some attributes are integers and others are pairs of</span>
<span class="sd">        integers.</span>

<span class="sd">        If a Rect has a nonzero width or height, it will return True for a</span>
<span class="sd">        nonzero test. Some methods return a Rect with 0 size to represent an</span>
<span class="sd">        invalid rectangle.</span>

<span class="sd">        The coordinates for Rect objects are all integers. The size values</span>
<span class="sd">        can be programmed to have negative values, but these are considered</span>
<span class="sd">        illegal Rects for most operations.</span>

<span class="sd">        There are several collision tests between other rectangles. Most</span>
<span class="sd">        python containers can be searched for collisions against a single</span>
<span class="sd">        Rect.</span>

<span class="sd">        The area covered by a Rect does not include the right- and bottom-</span>
<span class="sd">        most edge of pixels. If one Rect’s bottom border is another Rect’s</span>
<span class="sd">        top border (i.e., rect1.bottom=rect2.top), the two meet exactly on</span>
<span class="sd">        the screen but do not overlap, and rect1.colliderect(rect2) returns</span>
<span class="sd">        false.</span>

<span class="sd">        The Rect class can be subclassed. Methods such as copy() and move()</span>
<span class="sd">        will recognize this and return instances of the subclass. However,</span>
<span class="sd">        the subclass’s __init__() method is not called, and __new__() is</span>
<span class="sd">        assumed to take no arguments. So these methods should be overridden</span>
<span class="sd">        if any extra attributes need to be copied.</span>

<span class="sd">        Args.:</span>
<span class="sd">            (4 int tuple; e.g. (left, top, width, height)); or</span>
<span class="sd">            (2 int tuple, i.e. one tuple for x and y coordinates, another</span>
<span class="sd">            for dimensions; e.g. &quot;(left, top), (width, height)&quot;); or</span>
<span class="sd">            (Rect, i.e. another Rect to be copied).</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError</span>

<span class="sd">        Usage:</span>
<span class="sd">            Rect(left, top, width, height) -&gt; Rect</span>
<span class="sd">            Rect((left, top), (width, height)) -&gt; Rect</span>
<span class="sd">            Rect(object) -&gt; Rect</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">len_args</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">len_args</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rect</span><span class="p">):</span>
            <span class="n">rect</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">x</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">w</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">h</span>

        <span class="k">elif</span> <span class="n">len_args</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">len_args</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">w</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">h</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">len_args</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">len_args</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">args</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Argument must be a rect style object.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%d</span><span class="s2">, </span><span class="si">%d</span><span class="s2">, </span><span class="si">%d</span><span class="s2">, </span><span class="si">%d</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(x=</span><span class="si">%d</span><span class="s2">, y=</span><span class="si">%d</span><span class="s2">, w=</span><span class="si">%d</span><span class="s2">, h=</span><span class="si">%d</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">4</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">)[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">left</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>

    <span class="nd">@left</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">top</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>

    <span class="nd">@top</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">top</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span>

    <span class="nd">@width</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span>

    <span class="nd">@height</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">right</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>

    <span class="nd">@right</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">val</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bottom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>

    <span class="nd">@bottom</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">bottom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">val</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>

    <span class="nd">@size</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">topleft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>

    <span class="nd">@topleft</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">topleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">topright</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>

    <span class="nd">@topright</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">topright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>

    <span class="nd">@bottomright</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>

    <span class="nd">@bottomleft</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">centerx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

    <span class="nd">@centerx</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">centerx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">val</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">centerx</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">centery</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

    <span class="nd">@centery</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">centery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">val</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">centery</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">center</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span>

    <span class="nd">@center</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">center</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centery</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">midtop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>

    <span class="nd">@midtop</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">midtop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">midleft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span>

    <span class="nd">@midleft</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">midleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centery</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">midbottom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>

    <span class="nd">@midbottom</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">midbottom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">val</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">midright</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span>

    <span class="nd">@midright</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">midright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centery</span> <span class="o">=</span> <span class="n">val</span>

<div class="viewcode-block" id="Rect.copy"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Copy the rectangle.</span>

<span class="sd">        Returns a new rectangle having the same position and size as the</span>
<span class="sd">        original.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.copy()</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Rect.move"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.move">[docs]</a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move the rectangle.</span>

<span class="sd">        Returns a new rectangle that is moved by the given offset. The x and</span>
<span class="sd">        y arguments can be any integer value, positive or negative.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.move(x, y)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">r</span><span class="o">.</span><span class="n">move_ip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Rect.move_ip"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.move_ip">[docs]</a>    <span class="k">def</span> <span class="nf">move_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move the rectangle, in place.</span>

<span class="sd">        The rectangle is moved by the given offset, operating in place. The x</span>
<span class="sd">        and y arguments can be any integer value, positive or negative.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.move(x, y)</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">flatten</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">y</span></div>

<div class="viewcode-block" id="Rect.inflate"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.inflate">[docs]</a>    <span class="k">def</span> <span class="nf">inflate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Grow or Shrink the rectangle size.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.inflate(x, y)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>

<span class="sd">        Returns a new rectangle with the size changed by the given offset.</span>
<span class="sd">        The rectangle remains centered around its current center. Negative</span>
<span class="sd">        values will shrink the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">r</span><span class="o">.</span><span class="n">inflate_ip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Rect.inflate_ip"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.inflate_ip">[docs]</a>    <span class="k">def</span> <span class="nf">inflate_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Grow or shrink the rectangle size, in place.</span>

<span class="sd">        The rectangle&#39;s size is changed by the given offset, operating in</span>
<span class="sd">        place. Negative values will shrink the rectangle.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.inflate(x, y)</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">flatten</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">+=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">+=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">c</span></div>

<div class="viewcode-block" id="Rect.clamp"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.clamp">[docs]</a>    <span class="k">def</span> <span class="nf">clamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move the rectangle inside another.</span>

<span class="sd">        Returns a new rectangle that is moved to be completely inside the</span>
<span class="sd">        argument Rect. If the rectangle is too large to fit inside, it is</span>
<span class="sd">        centered inside the argument Rect, but its size is not changed.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.clamp(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">r</span><span class="o">.</span><span class="n">clamp_ip</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Rect.clamp_ip"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.clamp_ip">[docs]</a>    <span class="k">def</span> <span class="nf">clamp_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move the rectangle inside another.</span>

<span class="sd">        The rectangle is moved to be completely inside the argument Rect,</span>
<span class="sd">        operating in place. If the rectangle is too large to fit inside, it</span>
<span class="sd">        is centered inside the argument Rect, but its size is not changed.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.clamp(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Rect</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">w</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">h</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">center</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">left</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">right</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">top</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">top</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">bottom</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">bottom</span></div>

<div class="viewcode-block" id="Rect.clip"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.clip">[docs]</a>    <span class="k">def</span> <span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Crop a rectangle inside another.</span>

<span class="sd">        Returns a new rectangle that is cropped to be completely inside the</span>
<span class="sd">        argument Rect. If the two rectangles do not overlap to begin with, a</span>
<span class="sd">        Rect with 0 size is returned.</span>

<span class="sd">        Usage:</span>
<span class="sd">            clip(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Rect</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># Remember that (0,0) is the top left.</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">left</span> <span class="o">-</span> <span class="n">r</span><span class="o">.</span><span class="n">left</span>
            <span class="n">r</span><span class="o">.</span><span class="n">left</span> <span class="o">+=</span> <span class="n">d</span>
            <span class="n">r</span><span class="o">.</span><span class="n">width</span> <span class="o">-=</span> <span class="n">d</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">right</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">right</span>
            <span class="n">r</span><span class="o">.</span><span class="n">width</span> <span class="o">-=</span> <span class="n">d</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">top</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="n">r</span><span class="o">.</span><span class="n">top</span>
            <span class="n">r</span><span class="o">.</span><span class="n">top</span> <span class="o">+=</span> <span class="n">d</span>
            <span class="n">r</span><span class="o">.</span><span class="n">height</span> <span class="o">-=</span> <span class="n">d</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">bottom</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">bottom</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">bottom</span>
            <span class="n">r</span><span class="o">.</span><span class="n">height</span> <span class="o">-=</span> <span class="n">d</span>

        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Rect.union"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.union">[docs]</a>    <span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Join two rectangles into one.</span>

<span class="sd">        Returns a new rectangle that completely covers the area of the two</span>
<span class="sd">        provided rectangles. There may be area inside the new Rect that is</span>
<span class="sd">        not covered by the originals.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.union(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">r</span><span class="o">.</span><span class="n">union_ip</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Rect.union_ip"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.union_ip">[docs]</a>    <span class="k">def</span> <span class="nf">union_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Join two rectangles into one.</span>

<span class="sd">        The rectangle is resized to completely cover its original area and</span>
<span class="sd">        that of the argument Rect, operating in place. The resized Rect may</span>
<span class="sd">        contain areas that were not covered by either the original Rect or</span>
<span class="sd">        the argument Rect.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.union(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Rect</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span> <span class="o">-</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span></div>

<div class="viewcode-block" id="Rect.unionall"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.unionall">[docs]</a>    <span class="k">def</span> <span class="nf">unionall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_seq</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Join many rectangles into a new one.</span>

<span class="sd">        Returns the union of one rectangle with a sequence of many rectangles.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.unionall(Rect_sequence)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">r</span><span class="o">.</span><span class="n">unionall_ip</span><span class="p">(</span><span class="n">other_seq</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Rect.unionall_ip"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.unionall_ip">[docs]</a>    <span class="k">def</span> <span class="nf">unionall_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_seq</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Join many rectangles into one.</span>

<span class="sd">        The rectangle is resized to cover its original area and that of the</span>
<span class="sd">        passed as argument, operating in place.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.unionall(Rect_sequence)</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="n">other_seq</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">union_ip</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>

<div class="viewcode-block" id="Rect.fit"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.fit">[docs]</a>    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resize and move a rectangle with aspect ratio.</span>

<span class="sd">        Returns a new rectangle that is moved and resized to fit another. The</span>
<span class="sd">        aspect ratio of the original Rect is preserved, so the new rectangle</span>
<span class="sd">        may be smaller than the target in either width or height.</span>

<span class="sd">        Usage:</span>
<span class="sd">            source_rect.fit(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rect (a new Rect instance)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Rect</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="c1"># Not sure if this is entirely correct. Docs and tests are ambiguous.</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">r</span><span class="o">.</span><span class="n">topleft</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">topleft</span>
        <span class="n">w_ratio</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">w</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="p">)</span>
        <span class="n">h_ratio</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">h</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>
        <span class="n">factor</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">w_ratio</span><span class="p">,</span> <span class="n">h_ratio</span><span class="p">)</span>
        <span class="n">r</span><span class="o">.</span><span class="n">w</span> <span class="o">*=</span> <span class="n">factor</span>
        <span class="n">r</span><span class="o">.</span><span class="n">h</span> <span class="o">*=</span> <span class="n">factor</span>
        <span class="k">return</span> <span class="n">r</span></div>

<div class="viewcode-block" id="Rect.normalize"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Correct negative sizes of the rectangle.</span>

<span class="sd">        This will flip the width or height of a rectangle if it has a</span>
<span class="sd">        negative size. The rectangle will remain in the same place, with only</span>
<span class="sd">        the sides swapped.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.normalize()</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="Rect.contains"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.contains">[docs]</a>    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test if an argument rectangle is inside the rectangle.</span>

<span class="sd">        Returns true when the argument is completely inside the Rect.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.contains(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Rect</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">right</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span>
                <span class="n">other</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="ow">and</span>
                <span class="n">other</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span></div>

<div class="viewcode-block" id="Rect.collidepoint"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.collidepoint">[docs]</a>    <span class="k">def</span> <span class="nf">collidepoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test if a point is inside a rectangle.</span>

<span class="sd">        Returns true if the given point is inside the rectangle. A point</span>
<span class="sd">        along the right or bottom edge is not considered to be inside the</span>
<span class="sd">        rectangle.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.collidepoint(x, y)</span>
<span class="sd">            rect.collidepoint((x,y))</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span>
                <span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span></div>

<div class="viewcode-block" id="Rect.colliderect"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.colliderect">[docs]</a>    <span class="k">def</span> <span class="nf">colliderect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test if two rectangles overlap.</span>

<span class="sd">        Returns true if any portion of either rectangle overlap (except the</span>
<span class="sd">        top+bottom or left+right edges).</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.colliderect(Rect)</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Rect</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">bottom</span> <span class="ow">and</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">left</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">top</span><span class="p">)</span></div>

<div class="viewcode-block" id="Rect.collidelist"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.collidelist">[docs]</a>    <span class="k">def</span> <span class="nf">collidelist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test if the rectangle collide with any rectangle in the list.</span>

<span class="sd">        Test whether the rectangle collides with any in a sequence of</span>
<span class="sd">        rectangles. The index of the first collision found is returned. If no</span>
<span class="sd">        collisions are found an index of -1 is returned.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.collidelist(list)</span>

<span class="sd">        Return:</span>
<span class="sd">            int (index of first rectangle that collides or -1 none collides)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">other</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">other_list</span><span class="p">)),</span> <span class="n">other_list</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">n</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span></div>

<div class="viewcode-block" id="Rect.collidelistall"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.collidelistall">[docs]</a>    <span class="k">def</span> <span class="nf">collidelistall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test if all rectangles in a list intersect.</span>

<span class="sd">        Returns a list of all the indices that contain rectangles that</span>
<span class="sd">        collide with the Rect. If no intersecting rectangles are found, an</span>
<span class="sd">        empty list is returned.</span>

<span class="sd">        Usage:</span>
<span class="sd">            rect.collidelistall(list)</span>

<span class="sd">        Return:</span>
<span class="sd">            list (i.e. indices of rectangles that collide)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">colliderect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colliderect</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">other</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">other_list</span><span class="p">)</span> <span class="k">if</span> <span class="n">colliderect</span><span class="p">(</span><span class="n">other</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="Rect.collidedict"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.collidedict">[docs]</a>    <span class="k">def</span> <span class="nf">collidedict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test if one rectangle in a dictionary intersects.</span>

<span class="sd">        Returns the key and value of the first dictionary value that collides</span>
<span class="sd">        with the Rect. If no collisions are found, None is returned.</span>

<span class="sd">        Rect objects are not hashable and cannot be used as keys in a</span>
<span class="sd">        dictionary, only as values.</span>

<span class="sd">        Usage:</span>
<span class="sd">            collidedict(dict)</span>

<span class="sd">        Return:</span>
<span class="sd">             tuple (key and value of first rect in the dictionary that</span>
<span class="sd">            collides)</span>
<span class="sd">             None (if no collision is detected)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">other_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Rect.collidedictall"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.collidedictall">[docs]</a>    <span class="k">def</span> <span class="nf">collidedictall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_dict</span><span class="p">,</span> <span class="n">rects_values</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test if one rectangle instersect with others in a dictionary.</span>

<span class="sd">        Returns a list of tuples with the key and value of the rectangles in</span>
<span class="sd">        the argument dictionary that intersect with the Rect. If no</span>
<span class="sd">        collisions are found an empty list is returned.</span>

<span class="sd">        Rect objects are not hashable and cannot be used as keys in a</span>
<span class="sd">        dictionary, only as values.</span>

<span class="sd">        Usage:</span>
<span class="sd">            collidedictall(dict)</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of tuples ([(key, value), ...] with the rectangles that</span>
<span class="sd">            collide)</span>
<span class="sd">            empty list (if none collide)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">colliderect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colliderect</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">other_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
               <span class="k">if</span> <span class="n">colliderect</span><span class="p">(</span><span class="n">val</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="Rect.gap"><a class="viewcode-back" href="../../../../dnf_game.util.ext.html#dnf_game.util.ext.rect.Rect.gap">[docs]</a>    <span class="k">def</span> <span class="nf">gap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_rect</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="ne">FutureWarning</span><span class="p">(</span><span class="s2">&quot;Rect.gap is in earley experimental stage.&quot;</span><span class="p">))</span>
        <span class="n">rect_a</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
        <span class="n">rect_b</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">other_rect</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">rect_a</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">rect_b</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">left</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">rect_a</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="n">rect_b</span><span class="o">.</span><span class="n">right</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">top</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">rect_a</span><span class="o">.</span><span class="n">bottom</span><span class="p">,</span> <span class="n">rect_b</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">right</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rect_a</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">rect_b</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rect_a</span><span class="o">.</span><span class="n">top</span><span class="p">,</span> <span class="n">rect_b</span><span class="o">.</span><span class="n">top</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">top</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">collidelist</span><span class="p">([</span><span class="n">rect_a</span><span class="p">,</span> <span class="n">rect_b</span><span class="p">])</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;overlapping gap: </span><span class="si">%s</span><span class="s2">, rect_a: </span><span class="si">%s</span><span class="s2">, rect_b: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">r</span><span class="p">,</span> <span class="n">rect_a</span><span class="p">,</span> <span class="n">rect_b</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">r</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lucas Siqueira.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>